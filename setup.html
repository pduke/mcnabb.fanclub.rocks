<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>McNabb-McNeil Family Project Setup</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        .container {
            text-align: center;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        input, button {
            padding: 10px;
            margin: 10px;
            font-size: 16px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #instructions {
            margin-top: 20px;
            font-size: 14px;
            color: #333;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>McNabb-McNeil Family Project Setup</h2>
        <label for="nameInput">Enter Your Name:</label>
        <input type="text" id="nameInput" placeholder="e.g., Paul" required>
        <br>
        <button onclick="fetchAndCopySetup()">Copy Setup Text</button>
        <div id="instructions">
            <p>Instructions:</p>
            <ol>
                <li>Enter your name above and click "Copy Setup Text". This will copy the session instructions and family tree data to your clipboard.</li>
                <li>Go to the Grok prompt (e.g., open your chat interface).</li>
                <li>Paste the copied text into the prompt and press Enter to execute.</li>
            </ol>
        </div>
    </div>

    <script>
        async function fetchAndCopySetup() {
            const name = document.getElementById('nameInput').value.trim();
            if (!name) {
                alert('Please enter your name.');
                return;
            }

            try {
                // Fetch the session_instructions.txt file
                const instructionsResponse = await fetch('https://pduke.github.io/mcnabb.fanclub.rocks/session_instructions.txt');
                if (!instructionsResponse.ok) {
                    throw new Error('Failed to fetch session instructions.');
                }
                let instructions = await instructionsResponse.text();

                // Fetch the family tree HTML content from mchtml/McNabb Tree.html
                const treeResponse = await fetch('https://pduke.github.io/mcnabb.fanclub.rocks/mchtml/McNabb Tree.html');
                if (!treeResponse.ok) {
                    throw new Error('Failed to fetch family tree HTML content.');
                }
                const treeContent = await treeResponse.text();

                // Replace the placeholder in the instructions with the family tree content
                instructions = instructions.replace('[PASTE FAMILY TREE HTML CONTENT HERE]', treeContent);

                // Prepare the prompt with the user's name
                const prompt = `Hello Grok, this is ${name}. Below are the startup instructions for the McNabb-McNeil family project session, including the raw family tree HTML content. Please execute the "Startup Sequence for AI (Grok)" steps exactly as written, producing the output exactly as shown in the "Expected Output Example" section.\n\n${instructions}`;

                // Copy the text to the clipboard
                navigator.clipboard.writeText(prompt).then(() => {
                    alert('Setup text and family tree HTML content copied to clipboard! Now paste it into the Grok prompt and press Enter to execute.');
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                    alert('Failed to copy text. Please copy the text manually from the console.');
                    console.log(prompt);
                });
            } catch (err) {
                console.error('Error fetching instructions or family tree content: ', err);
                alert('Failed to fetch session instructions or family tree HTML content. Please ensure the files are available at https://pduke.github.io/mcnabb.fanclub.rocks/session_instructions.txt and https://pduke.github.io/mcnabb.fanclub.rocks/mchtml/McNabb Tree.html, then try again.');
            }
        }
    </script>
</body>
</html>
