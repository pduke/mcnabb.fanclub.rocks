<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>McNabb-McNeil Family Project Setup</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        .container {
            text-align: center;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        input, button {
            padding: 10px;
            margin: 10px;
            font-size: 16px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #instructions {
            margin-top: 20px;
            font-size: 14px;
            color: #333;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>McNabb-McNeil Family Project Setup</h2>
        <label for="nameInput">Enter Your Name:</label>
        <input type="text" id="nameInput" placeholder="e.g., Paul" required>
        <br>
        <button onclick="fetchAndCopySetup()">Copy Setup Text</button>
        <div id="instructions">
            <p>Instructions:</p>
            <ol>
                <li>Enter your name above and click "Copy Setup Text". This will copy the session instructions and family tree HTML to your clipboard.</li>
                <li>Go to the Grok prompt (e.g., open your chat interface).</li>
                <li>Paste the copied text into the prompt and press Enter to execute.</li>
                <li>If the button fails, manually copy the family tree HTML from <a href="https://pduke.github.io/mcnabb.fanclub.rocks/mchtml/McNabb Tree.html" target="_blank">here</a> and append it to the instructions from <a href="https://pduke.github.io/mcnabb.fanclub.rocks/session_instructions.txt" target="_blank">here</a>.</li>
            </ol>
        </div>
    </div>

    <script>
        async function fetchAndCopySetup() {
            console.log('Starting fetchAndCopySetup...');
            const name = document.getElementById('nameInput').value.trim();
            if (!name) {
                alert('Please enter your name.');
                console.log('No name entered');
                return;
            }
            console.log('User name:', name);

            try {
                // Fetch session_instructions.txt
                console.log('Fetching session_instructions.txt...');
                const instructionsResponse = await fetch('https://pduke.github.io/mcnabb.fanclub.rocks/session_instructions.txt');
                if (!instructionsResponse.ok) {
                    throw new Error(`Failed to fetch session instructions: ${instructionsResponse.status}`);
                }
                const instructions = await instructionsResponse.text();
                console.log('Instructions fetched:', instructions.substring(0, 50) + '...');

                // Fetch McNabb Tree.html
                console.log('Fetching McNabb Tree.html...');
                const treeResponse = await fetch('https://pduke.github.io/mcnabb.fanclub.rocks/mchtml/McNabb Tree.html');
                if (!treeResponse.ok) {
                    throw new Error(`Failed to fetch family tree HTML: ${treeResponse.status}`);
                }
                const treeContent = await treeResponse.text();
                console.log('Family tree HTML fetched:', treeContent.substring(0, 50) + '...');

                // Append the tree HTML with clear markers
                const combinedText = `${instructions}\n\n### FAMILY TREE HTML START ###\n${treeContent}\n### FAMILY TREE HTML END ###`;
                console.log('Combined text prepared:', combinedText.substring(0, 50) + '...');

                // Prepare the prompt
                const prompt = `Hello Grok, this is ${name}. Below are the startup instructions for the McNabb-McNeil family project session, followed by the raw family tree HTML content. Please execute the "Startup Sequence for AI (Grok)" steps exactly as written, producing the output exactly as shown in the "Expected Output Example" section.\n\n${combinedText}`;
                console.log('Prompt prepared:', prompt.substring(0, 50) + '...');

                // Copy to clipboard
                console.log('Copying to clipboard...');
                await navigator.clipboard.writeText(prompt);
                alert('Setup text and family tree HTML copied to clipboard! Paste it into the Grok prompt and press Enter to execute.');
                console.log('Successfully copied to clipboard');
            } catch (err) {
                console.error('Error:', err.message);
                alert(`Error: ${err.message}. Check the console for details. As a fallback, manually copy the family tree HTML from https://pduke.github.io/mcnabb.fanclub.rocks/mchtml/McNabb Tree.html and append it to the instructions from https://pduke.github.io/mcnabb.fanclub.rocks/session_instructions.txt.`);
            }
        }
    </script>
</body>
</html>
